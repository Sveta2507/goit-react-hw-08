(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={form:"Form_form__3U-nP",label:"Form_label__1OLFt",button:"Form_button__3x8iX",enter:"Form_enter__1sHNK",enterActive:"Form_enterActive__EVTQP",exit:"Form_exit__zQpm5",exitActive:"Form_exitActive__1T-z-",notif:"Form_notif__2-p_l"}},25:function(t,e,n){t.exports={contactsUl:"ContactList_contactsUl__2rftV",enter:"ContactList_enter__2Mn_C",enterActive:"ContactList_enterActive__3ftqM",exit:"ContactList_exit__NHoqB",exitActive:"ContactList_exitActive__1V9Fo"}},28:function(t,e,n){t.exports={main:"Logo_main__1sPJM",enter:"Logo_enter__3P2Zn",enterActive:"Logo_enterActive__3rHC-"}},37:function(t,e,n){t.exports={section:"ContactListItem_section__HHlaA",button:"ContactListItem_button__2kWkc",swing:"ContactListItem_swing__1t_MZ"}},39:function(t,e,n){t.exports={input:"Filter_input__2F9bI",label:"Filter_label__1q2jL"}},46:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c,a,r,i=n(1),o=n(0),s=n(8),u=n.n(s),l=n(21),b=n(9),j=n(10),O=n(13),h=n(12),f=(n(46),n(3)),d=n(16),m=n.n(d),_=n(73),C=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(b.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).disableAlert=function(){t.props.change(!1)},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){clearTimeout(c)}},{key:"render",value:function(){var t=this;return c=setTimeout((function(){t.disableAlert()}),1700),Object(i.jsx)("h4",{children:"Warning! You are trying to add contact, which has already been added!"})}}]),n}(o.Component),p=n(74),x=n(72),v=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(b.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",alert:!1},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,r={id:Object(_.a)(),number:a,name:c};t.props.addContact(r),t.setState({name:"",number:""})},t.changeAlert=function(e){t.setState({alert:e})},t}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(t,e){t.isExists!==this.props.isExists&&this.setState({alert:this.props.isExists})}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{className:m.a.notif,children:this.state.alert&&Object(i.jsx)(x.a,{timeout:250,classNames:m.a,children:Object(i.jsx)(C,{change:this.changeAlert})})}),Object(i.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(i.jsx)("label",{className:m.a.label,children:"Name: "}),Object(i.jsx)("input",{type:"text",required:!0,name:"name",onChange:this.handleChange,placeholder:"Enter your name please",value:e}),Object(i.jsx)("label",{className:m.a.label,children:"Number: "}),Object(i.jsx)("input",{type:"text",required:!0,name:"number",onChange:this.handleChange,placeholder:"Enter your phone number please",value:n}),Object(i.jsx)("button",{type:"submit",className:m.a.button,children:"Add contact"})]})]})}}]),n}(o.Component),g=n(37),E=n.n(g),y=function(t){var e=t.id,n=t.number,c=t.name,a=t.deleteContact;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("li",{children:[Object(i.jsx)("p",{children:c}),Object(i.jsx)("p",{children:n}),Object(i.jsx)("button",{className:E.a.button,type:"button",onClick:function(){return a(e)},children:"Delete"})]})})},A=n(25),T=n.n(A),S=n(20),N=n(22),F=n.n(N),L=n(2),k=Object(L.b)("ADD_CONTACT_REQUEST"),R=Object(L.b)("ADD_CONTACT_SUCCESS"),w=Object(L.b)("ADD_CONTACT_ERROR"),D=Object(L.b)("FETCH_CONTACT_REQUEST"),U=Object(L.b)("FETCH_CONTACT_SUCCESS"),I=Object(L.b)("FETCH_CONTACT_ERROR"),M=Object(L.b)("REMOVE_CONTACT_REQUEST"),H=Object(L.b)("REMOVE_CONTACT_SUCCESS"),V=Object(L.b)("REMOVE_CONTACT_ERROR"),q=Object(L.b)("CHANGE_FILTER"),J=Object(L.b)("NOTIFICATION"),P=n(11),Q=n(19),z=function(t){return t.contacts},B=function(t){return t.filter},W=Object(Q.a)([z,B],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),Z={handleDelete:function(t){return function(e){e(M()),F.a.delete("/contacts".concat(t)).then((function(){e(H(t))})).catch((function(t){return e(V(t))}))}}},G=Object(P.b)((function(t){return{visibleContacts:W(t)}}),Z)((function(t){var e=t.contacts,n=t.deleteContact;return Object(i.jsx)(p.a,{component:"ul",className:T.a.contactsUl,children:e.map((function(t){var c=t.name,a=t.id,r=t.number;return Object(i.jsx)(x.a,{timeout:250,classNames:T.a,in:e.length>0,children:Object(i.jsx)(y,{name:c,number:r,id:a,deleteContact:n})},a)}))})})),K=n(39),X=n.n(K),Y={handleChange:q},$=Object(P.b)((function(t){return{filter:B(t)}}),Y)((function(t){var e=t.onChange,n=t.value;return Object(i.jsx)(x.a,{in:""!==n,timeout:0,children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{className:X.a.label,children:"Filter:"}),Object(i.jsx)("input",{type:"text",onChange:e,value:n,placeholder:"Filter contacts if necessary"})]})})})),tt=n(28),et=n.n(tt),nt=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(b.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={isLoad:!1},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.setState({isLoad:!0})}),150)}},{key:"render",value:function(){return Object(i.jsx)(p.a,{className:et.a.main,children:this.state.isLoad&&Object(i.jsx)(x.a,{timeout:500,classNames:et.a,children:Object(i.jsx)("h1",{children:"Phonebook"})})})}}]),n}(o.Component),ct=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(b.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={contacts:[],name:"",filter:"",isExists:!1},t.addContact=function(e){if(t.state.contacts.find((function(t){return t.name===e.name})))return t.setState({isExists:!0}),void setTimeout((function(){return t.setState({isExists:!1})}),2e3);t.setState((function(t){return{contacts:[].concat(Object(l.a)(t.contacts),[e]),isExists:!1}}))},t.deleteContact=function(e){t.setState((function(t){return{contacts:t.contacts.filter((function(t){return t.id!==e}))}}))},t.handleFilterChange=function(e){t.setState({filter:e.target.value})},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("conctacts");t&&this.setState({contacts:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(t,e){e.contacts!==this.state.contacts&&localStorage.setItem("conctacts",JSON.stringify(this.state.contacts))}},{key:"render",value:function(){var t=this.state,e=t.contacts,n=t.filter,c=t.isExists,a=e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt,{}),Object(i.jsx)(v,{addContact:this.addContact,isExists:c}),Object(i.jsx)($,{filteredContacts:this.handleFilterChange,value:this.state.filter,onChange:this.handleFilterChange}),Object(i.jsx)(x.a,{in:e.length>0,timeout:0,children:Object(i.jsx)(G,{contacts:a,deleteContact:this.deleteContact})})]})}}]),n}(o.Component),at={addContact:function(t){return function(e){e(k()),F.a.post("/contacts",Object(S.a)({},t)).then((function(t){var n=t.data;e(R(n))})).catch((function(t){return e(w(t))}))}},alert:J},rt=Object(P.b)((function(t){return{contacts:z(t)}}),at)(ct),it=[],ot="",st=!1,ut=Object(L.c)(it,(a={},Object(f.a)(a,U,(function(t,e){return e.payload})),Object(f.a)(a,R,(function(t,e){return[].concat(Object(l.a)(t),[Object(S.a)({},e.payload)])})),Object(f.a)(a,H,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),a)),lt=Object(L.c)(ot,Object(f.a)({},q,(function(t,e){return e.payload}))),bt=Object(L.c)(st,Object(f.a)({},J,(function(t,e){return e.payload}))),jt=Object(L.c)(!1,(r={},Object(f.a)(r,D,(function(){return!0})),Object(f.a)(r,U,(function(){return!1})),Object(f.a)(r,I,(function(){return!1})),Object(f.a)(r,k,(function(){return!0})),Object(f.a)(r,R,(function(){return!1})),Object(f.a)(r,w,(function(){return!1})),Object(f.a)(r,M,(function(){return!0})),Object(f.a)(r,H,(function(){return!1})),Object(f.a)(r,V,(function(){return!1})),r)),Ot=Object(L.a)({reducer:{contacts:ut,filter:lt,isExists:bt,isLoading:jt}});u.a.render(Object(i.jsx)(P.a,{store:Ot,children:Object(i.jsx)(rt,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.80d61f23.chunk.js.map